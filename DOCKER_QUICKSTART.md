# üöÄ Docker Quick Start - Run on Your Laptop in 3 Minutes!

This guide will get the Church Equipment Inventory System running on your laptop using Docker.

## What You'll Get

‚úÖ Complete web application running at `http://localhost:5000`  
‚úÖ PostgreSQL database (persistent storage)  
‚úÖ No Python installation needed  
‚úÖ Everything isolated in containers  
‚úÖ Easy to start, stop, and reset

---

## Step 1: Install Docker Desktop

### macOS
1. Download: https://www.docker.com/products/docker-desktop
2. Open the downloaded `.dmg` file
3. Drag Docker to Applications
4. Launch Docker from Applications
5. Wait for Docker to start (whale icon in menu bar)

### Windows
1. Download: https://www.docker.com/products/docker-desktop
2. Run the installer
3. Follow the installation wizard
4. Restart your computer if prompted
5. Launch Docker Desktop

### Linux
```bash
# Ubuntu/Debian
sudo apt-get update
sudo apt-get install docker.io docker-compose
sudo systemctl start docker
sudo usermod -aG docker $USER
# Log out and back in
```

**Verify Installation:**
```bash
docker --version
# Should show: Docker version 20.10.x or higher
```

---

## Step 2: Get the Code

```bash
# Clone the repository
git clone https://github.com/yourusername/church-inventory-tracker.git

# Navigate to the project
cd church-inventory-tracker
```

---

## Step 3: Run the Application

### Option A: Automated Script (Easiest!)

```bash
./docker-start.sh
```

That's it! The script will:
- ‚úÖ Check if Docker is running
- ‚úÖ Create environment configuration
- ‚úÖ Build the Docker images
- ‚úÖ Start the database and web application
- ‚úÖ Open your browser automatically

### Option B: Manual Docker Compose

```bash
# Create environment file
cp env.example .env

# Generate session secret
python3 -c 'import secrets; print(secrets.token_hex(32))'
# Copy the output and add it to .env as SESSION_SECRET

# Start everything
docker-compose up --build
```

---

## Step 4: Access Your Application

üåê **Open your browser to:** http://localhost:5000

You should see the Church Equipment Inventory System dashboard!

---

## Common Commands

### Start the Application
```bash
docker-compose up
# Or run in background:
docker-compose up -d
```

### Stop the Application
```bash
# Stop (keeps data)
docker-compose down

# Stop and remove all data (fresh start)
docker-compose down -v
```

### View Logs
```bash
# All logs
docker-compose logs -f

# Just the web application
docker-compose logs -f web

# Just the database
docker-compose logs -f db
```

### Restart After Code Changes
```bash
docker-compose down
docker-compose up --build
```

### Check What's Running
```bash
docker-compose ps
```

### Access Database Directly
```bash
docker-compose exec db psql -U church_admin -d church_inventory
```

---

## Troubleshooting

### "Port 5000 is already in use"

**Solution 1: Stop the conflicting process**
```bash
# macOS/Linux
lsof -ti:5000 | xargs kill -9

# Windows
netstat -ano | findstr :5000
taskkill /PID <PID_NUMBER> /F
```

**Solution 2: Use a different port**

Edit `docker-compose.yml` and change:
```yaml
ports:
  - "8080:5000"  # Use port 8080 instead
```

Then access at: http://localhost:8080

### "Docker is not running"

1. Open Docker Desktop application
2. Wait for it to fully start (whale icon should be steady)
3. Try the command again

### "Cannot connect to database"

```bash
# Check if database is healthy
docker-compose ps

# Restart the database
docker-compose restart db

# View database logs
docker-compose logs db
```

### Start Fresh (Reset Everything)

```bash
# Stop and remove everything
docker-compose down -v

# Remove Docker images
docker-compose down --rmi all -v

# Start fresh
docker-compose up --build
```

---

## What's Running?

After starting, you have:

| Service | URL/Port | Credentials |
|---------|----------|-------------|
| Web App | http://localhost:5000 | - |
| PostgreSQL | localhost:5432 | User: `church_admin`<br>Password: `changeme123`<br>Database: `church_inventory` |

---

## Default Environment Variables

The `.env` file contains:

```env
SESSION_SECRET=<auto-generated-secure-key>
DATABASE_URL=postgresql://church_admin:changeme123@db:5432/church_inventory
FLASK_ENV=development
DEBUG=True
```

---

## Data Persistence

Your data is stored in Docker volumes and persists between restarts:

- Database data: `church_inventory_postgres_data` volume
- Uploaded files: `./instance` and `./uploads` directories

To completely reset:
```bash
docker-compose down -v
rm -rf instance/ uploads/
```

---

## Next Steps

1. ‚úÖ **Explore the application** - Add equipment, try QR codes
2. üìñ **Read the full documentation** - See [DOCKER.md](DOCKER.md)
3. üîß **Configure for production** - Update passwords, add SSL
4. üåç **Deploy online** - Use cloud services like AWS, DigitalOcean

---

## Need Help?

- **Full Docker Documentation**: [DOCKER.md](DOCKER.md)
- **Application Guide**: [README.md](README.md)
- **Issues**: Open a GitHub issue with logs from `docker-compose logs`

---

## Quick Reference Card

```bash
# Start application
docker-compose up -d

# Stop application
docker-compose down

# View logs
docker-compose logs -f

# Restart after changes
docker-compose restart web

# Fresh start
docker-compose down -v && docker-compose up --build

# Check status
docker-compose ps

# Open shell in web container
docker-compose exec web bash

# Backup database
docker-compose exec db pg_dump -U church_admin church_inventory > backup.sql
```

---

**Made with ‚ù§Ô∏è for church communities**

üéâ **Enjoy your containerized Church Inventory System!**

